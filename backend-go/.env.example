# ========================================
# NewAPI Tools (Golang) 环境变量配置
# ========================================

# ----------------------------------------
# 数据库配置（必填）
# ----------------------------------------

# 方式1: 使用连接字符串（推荐，与 NewAPI 兼容）
# MySQL 格式: user:pass@tcp(host:port)/dbname?charset=utf8mb4&parseTime=True&loc=Local
# PostgreSQL 格式: postgresql://user:pass@host:port/dbname?sslmode=disable
SQL_DSN=

# 方式2: 使用分离配置（如果未设置 SQL_DSN，则使用以下配置）
DB_ENGINE=mysql
DB_DNS=localhost
DB_PORT=3306
DB_NAME=new-api
DB_USER=root
DB_PASSWORD=

# ----------------------------------------
# Redis 配置
# ----------------------------------------

# 方式1: 使用连接字符串（推荐）
REDIS_CONN_STRING=redis://redis:6379

# 方式2: 使用分离配置（如果未设置 REDIS_CONN_STRING，则使用以下配置）
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ----------------------------------------
# 认证配置（必填）
# ----------------------------------------

# 管理员密码（必填！）
ADMIN_PASSWORD=

# API Key（可选，用于额外的 API 保护）
API_KEY=

# JWT 密钥（可选，留空自动生成）
JWT_SECRET=

# JWT 过期时间（小时）
JWT_EXPIRE_HOURS=24

# ----------------------------------------
# 服务器配置
# ----------------------------------------

# 前端访问端口
FRONTEND_PORT=1145

# 后端服务端口（内部使用）
SERVER_PORT=8000

# 运行模式: debug, release, test
SERVER_MODE=release

# ----------------------------------------
# Docker 网络配置
# ----------------------------------------

# NewAPI 容器所在的网络名称
NEWAPI_NETWORK=new-api_default

# ----------------------------------------
# GeoIP 配置
# ----------------------------------------

# GeoIP 数据库路径（容器内路径）
GEOIP_DB_PATH=/app/data/geoip/GeoLite2-Country.mmdb

# GeoIP 数据库更新 URL
GEOIP_UPDATE_URL=https://github.com/P3TERX/GeoLite.mmdb/raw/download/GeoLite2-Country.mmdb

# ----------------------------------------
# 缓存配置
# ----------------------------------------

# 默认缓存 TTL（分钟）
CACHE_DEFAULT_TTL=5

# Dashboard 缓存 TTL（分钟）
CACHE_DASHBOARD_TTL=5

# 排行榜缓存 TTL（分钟）
CACHE_LEADERBOARD_TTL=1

# IP 监控缓存 TTL（分钟）
CACHE_IP_MONITORING_TTL=10
